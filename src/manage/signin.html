<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">
<head>
<meta http-equiv="Content-Type" content="text/html; charset=utf-8" />
<title>Sign On - Express Me</title>
<link rel="stylesheet" href="/static/css/blueprint/screen.css" type="text/css" media="screen, projection">
<link rel="stylesheet" href="/static/css/blueprint/print.css" type="text/css" media="print">
<!--[if lt IE 8]>
	<link rel="stylesheet" href="/static/css/blueprint/ie.css" type="text/css" media="screen, projection">
<![endif]-->
<link rel="stylesheet" href="/manage/static/custom.css" type="text/css" media="screen, projection">
<script type="text/javascript" src="/static/js/jquery/jquery.js"></script>
<script type="text/javascript" src="/static/js/utils/md5.js"></script>
<script type="text/javascript" src="/static/js/utils/str.js"></script>
#raw
<script type="text/javascript">
function validate_form() {
  var email = $("#email").val();
  if (!is_email(email)) {
    show_error("Please enter a valid email address.");
    return false;
  }
  var p = $("#password").val();
  if (p.length<6) {
    show_error("The password should be at least 6 characters long.");
    return false;
  }
  $("#passwd").val(MD5(p));
  return true;
}
function show_error(s) {
  $("#err_msg").html(s);
  $("#err_msg").show();
}
</script>
#end raw
</head>
<body>
  <div class="container margin_top">
    <div class="span-12 prepend-6 append-6 last">
      <p><a href="http://www.expressme.org/" target="_blank"><img src="/static/image/expressme.gif" width="326" height="60" /></a></p>
      <form name="signin" id="signin" method="post" action="signin" onsubmit="return validate_form()">
        <fieldset>
          <legend>&nbsp;Please sign in&nbsp;</legend>
          <input type="hidden" id="passwd" name="passwd" />
          <p><div id="err_msg" class="error" style="display:none"></div><p>
          #if $varExists('error')
          <script type="text/javascript">
            show_error("${error}");
          </script>
          #end if
          #if $varExists('redirect')
            <input type="hidden" name="redirect" value="${redirect}" />
          #end if
          <p><label for="email">Email</label><br/><input id="email" name="email" type="text" maxlength="50" class="text" /></p>
          <p><label for="passwd">Password</label><br/><input id="password" name="password" type="password" maxlength="20" class="text" /></p>
          <p><label for="expires">Store for</label><br/>
            <select id="expires" name="expires">
              <option value="86400">One day</option>
              <option value="604800">One week</option>
              <option value="2592000">One month</option>
              <option value="31536000" selected="selected">One year</option>
            </select>
          </p>
          <p><input type="submit" value="Sign In" /></p>
        </fieldset>
      </form>
      <p><a href="register">Register</a> | <a href="#">Lost your password?</a></p>
      #if $varExists('google_url')
        <p>Don't want to register? try <a href="${google_url}">sign in with a Google account</a>!</p>
      #end if
      <hr class="space"/>
      <hr class="alt"/>
      <p>Copyright&copy;2010, Express Me on AppEngine</p>
    </div>
  </div>
</body>
</html>
